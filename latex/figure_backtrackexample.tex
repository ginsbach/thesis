\centering
\begin{blackwhitebox}{Original SSA Constraint Problem}
    \setlength{\abovedisplayskip}{0pt}
    \setlength{\belowdisplayskip}{0pt}
    \vspace{-0.5em}
    \begin{align*}
        V={}&\{\text{phi}, \text{update}, \text{step}\}\\
        C(M,x)={}&    ((x_\text{step},1)
                        \in C_\mathcal{F}\mathrel\land
                       (x_\text{phi},x_\text{update})
                        \in DFG_\mathcal{F}^*\mathrel\land\\
           &\phantom{(}(x_\text{step},x_\text{update})
                        \in DFG_\mathcal{F}^* \mathrel\land
                       (x_\text{phi}, phi)
                        \in I_\mathcal{F}\mathrel\land\\
           &\phantom{(}(x_\text{update}, add)
                        \in I_\mathcal{F}\mathrel\land
                       (x_\text{update},x_\text{phi})
                        \in DFG_\mathcal{F}^*)
    \end{align*}
\end{blackwhitebox}

\vspace{0.25cm}
{\Large\bf Backtracking Solution:}
\vspace{0.2cm}

\begin{minipage}{6cm}
    \centering{\large $x=()$}
    \begin{graybox}
        \footnotesize
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            v_1={}&\text{phi}\\
            P_1[C]&(M,y)=\\
              (&y\in\{s_1\mid s\in DFG_\mathcal{F}^*\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in I_\mathcal{F}, s_2=phi\}\\
                \mathrel\land{}&y\in\{s_2\mid s\in DFG_\mathcal{F}^*\})\\
               ={}&y\in\{6,9,10\}
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    {\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \hspace{1.8cm}
    {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \hspace{1.8cm}
    {\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
\end{minipage}

\begin{minipage}{4.75cm}
    \centering{\large\hspace{3cm} $x=(6)$}
    \begin{graybox}
        \footnotesize
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            v_2&{}=\text{update}\\
            P_2&{}[C](M,x,y)=\\
              (&y\in\{s_2\mid s\in DFG_\mathcal{F}^*,s_1=x_1\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in I_\mathcal{F},s_2=add\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in DFG_\mathcal{F}^*,s_2=x_1\})\\
               ={}&y\in\{\}
        \end{align*}
    \end{graybox}
    {\large $\implies$ backtrack}
\end{minipage}
\begin{minipage}{4.75cm}
    \centering
    {\large\phantom{$(9)$}$x=(9)$\phantom{$x$}}
    \begin{graybox}
        \footnotesize
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            v_2&{}=\text{update}\\
            P_2&{}[C](M,x,y)=\\
              (&y\in\{s_2\mid s\in DFG_\mathcal{F}^*,s_1=x_1\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in I_\mathcal{F},s_2=add\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in DFG_\mathcal{F}^*,s_2=x_1\})\\
               ={}&y\in\{17\}
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \hspace{1cm}
    {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \hspace{1cm}
    \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
\end{minipage}
\begin{minipage}{4.75cm}
    \centering{\large $x=(10)$ \hspace{2.75cm}}
    \begin{graybox}
        \footnotesize
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            v_2&{}=\text{update}\\
            P_2&{}[C](M,x,y)=\\
              (&y\in\{s_2\mid s\in DFG_\mathcal{F}^*,s_1=x_1\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in I_\mathcal{F},s_2=add\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in DFG_\mathcal{F}^*,s_2=x_1\})\\
               ={}&y\in\{\}
        \end{align*}
    \end{graybox}
    {\large $\implies$ backtrack}
\end{minipage}

\begin{minipage}{5cm}
    \centering{\large \phantom{$(9,17)$}$x=(9,17)$\phantom{$x$}}
    \begin{graybox}
        \footnotesize
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            v_3={}&\text{step}\\
            P_3[C]&(M,x,y)=\\
              (&y\in\{s_1\mid s\in C_\mathcal{F}, s_2=1\}\\
                \mathrel\land{}&y\in\{s_1\mid s\in DFG_\mathcal{F}^*, s_2=x_2\})\\
               ={}&y\in\{22\}
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \hspace{1cm}
    {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \hspace{1cm}
    \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
\end{minipage}

{\large \phantom{$(9,17,22)$}$x=(9,17,22)$\phantom{$x$}}
