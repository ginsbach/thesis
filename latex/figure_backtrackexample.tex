\centering
\begin{blackwhitebox}{Original SSA Constraint Problem}
    \setlength{\abovedisplayskip}{0pt}
    \setlength{\belowdisplayskip}{0pt}
    \vspace{-0.5em}
\begin{align*}
        V={}&\{\text{phi}, \text{update}, \text{step}\}\\
        C(M,x)={}&    ((1,x_\text{step})
                        \in C_\mathcal{F}\mathrel\land
                       (add,x_\text{update})
                        \in I_\mathcal{F}\mathrel\land\\
           &\phantom{(}(x_\text{phi},x_\text{update})
                        \in DFG_\mathcal{F}^*\mathrel\land
                       (x_\text{step},x_\text{update})
                        \in DFG_\mathcal{F}^*\mathrel\land\\
           &\phantom{(}(x_\text{update},x_\text{phi})
                        \in DFG_\mathcal{F}^*\mathrel\land
                       (phi,x_\text{phi})
                        \in I_\mathcal{F}
    \end{align*}
\end{blackwhitebox}

\vspace{1cm}
\begin{minipage}[t]{6cm}
    \centering
    {\Large\bf Backtracking Solution:}

    $k=1$\quad$v_1=\text{phi}$
    \begin{graybox}
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            B_1[C](M)={}&heads(DFG_\mathcal{F}^*)\\
                \mathrel\cap{}&heads(rev(DFG_\mathcal{F}^*\\
                \mathrel\cap{}&heads(select(phi,I_\mathcal{F}))
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \hspace{0.3cm}
    \phantom{\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \hspace{0.3cm}
    \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}

    $k=2$\quad$v_2=\text{update}$
    \begin{graybox}
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            B_2[C]&(M,x)=\\
                            {}&heads(select(add,I_\mathcal{F}))\\
                \mathrel\cap{}&heads(select(x_1,DFG_\mathcal{F}^*))\\
                \mathrel\cap{}&heads(rev(DFG_\mathcal{F}^*))\\
                \mathrel\cap{}&heads(select(x_1,rev(DFG_\mathcal{F}^*)))
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \hspace{0.3cm}
    \phantom{\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \hspace{0.3cm}
    \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}

    $k=3$\quad$v_3=\text{step}$
    \begin{graybox}
        \setlength{\abovedisplayskip}{0pt}
        \setlength{\belowdisplayskip}{0pt}
        \vspace{-0.5em}
        \begin{align*}
            B_3[C]&(M,x)=select(1,C_\mathcal{F})\\
                \mathrel\cap{}&heads(select(x_2,rev(DFG_\mathcal{F}^*)))
        \end{align*}
    \end{graybox}
    \vspace{-0.75em}
    \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
    \phantom{\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
    \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}

    \phantom{\large $x=(9,17,22)$}
\end{minipage}
\hfill
\begin{minipage}[t]{8cm}
    \centering
    {\Large\bf Backtracking Algorithm:}

    \begin{minipage}{4cm}
        \centering
        \vspace{1.9mm}
        $x=()$
        \begin{graybox}
            \setlength{\abovedisplayskip}{0pt}
            \setlength{\belowdisplayskip}{0pt}
            \vspace{-0.5em}
            \begin{gather*}
                \\B_1[C](M)=\{6,9,10\}\\
            \end{gather*}
        \end{graybox}
        \vspace{-0.75em}
        {\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
        \hspace{0.8cm}
        {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
        \hspace{0.8cm}
        {\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
    \end{minipage}

    \begin{minipage}{2.5cm}
        \centering
        \vspace{0.7mm}
        $x=(6)$
        \begin{graybox}
            \setlength{\abovedisplayskip}{0pt}
            \setlength{\belowdisplayskip}{0pt}
            \vspace{-0.5em}
            \begin{gather*}
                \\B_2[C](M,6)\\=\\\{\}\\
            \end{gather*}
        \end{graybox}
        {\large\bf backtrack!}
    \end{minipage}
    \begin{minipage}{2.5cm}
        \centering
        \vspace{0.7mm}
        $x=(9)$
        \begin{graybox}
            \setlength{\abovedisplayskip}{0pt}
            \setlength{\belowdisplayskip}{0pt}
            \vspace{-0.5em}
            \begin{gather*}
                \\B_2[C](M,9)\\=\\\{17\}\\
            \end{gather*}
        \end{graybox}
        \vspace{-0.75em}
        \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
        {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
        \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
    \end{minipage}
    \begin{minipage}{2.5cm}
        \centering
        \vspace{0.7mm}
        $x=(10)$
        \begin{graybox}
            \setlength{\abovedisplayskip}{0pt}
            \setlength{\belowdisplayskip}{0pt}
            \vspace{-0.5em}
            \begin{gather*}
                \\B_2[C](M,10)\\=\\\{\}\\
            \end{gather*}
        \end{graybox}
        {\large\bf backtrack!}
    \end{minipage}

    \begin{minipage}{4cm}
        \centering
        \vspace{0.7mm}
        $x=(9,17)$
        \begin{graybox}
            \setlength{\abovedisplayskip}{0pt}
            \setlength{\belowdisplayskip}{0pt}
            \vspace{-0.5em}
            \begin{gather*}
                \\[-3.75mm]
                B_3[C](M,9,17)=\{22\}
                \\[-3.75mm]
            \end{gather*}
        \end{graybox}
        \vspace{-0.75em}
        \phantom{\Huge \rotatebox[origin=c]{330}{$\downarrow$}{}}
        {\Huge\rotatebox[origin=c]{0}{$\downarrow$}}
        \phantom{\Huge\rotatebox[origin=c]{30}{$\downarrow$}}
    \end{minipage}

    \vspace{0.5mm}
    {\large $x=(9,17,22)$}
\end{minipage}